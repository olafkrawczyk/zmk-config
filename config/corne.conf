CONFIG_ZMK_MOUSE=y
CONFIG_ZMK_COMBO_MAX_COMBOS_PER_KEY=6
CONFIG_ZMK_COMBO_MAX_KEYS_PER_COMBO=3

# Uncomment the following lines to enable the Corne RGB Underglow
# CONFIG_ZMK_RGB_UNDERGLOW=y
# CONFIG_WS2812_STRIP=y

# Enable the Nice View Display
CONFIG_ZMK_DISPLAY=y
CONFIG_ZMK_WIDGET_BATTERY_STATUS_SHOW_PERCENTAGE=y
CONFIG_ZMK_DISPLAY_WORK_QUEUE_DEDICATED=y
CONFIG_ZMK_DISPLAY_DEDICATED_THREAD_STACK_SIZE=2048
CONFIG_SPI=y
#
# `nice_view_battery` provides a custom status screen.
# CONFIG_ZMK_DISPLAY_STATUS_SCREEN_CUSTOM=y

CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=600000
CONFIG_ZMK_IDLE_TIMEOUT=5000
CONFIG_ZMK_DISPLAY_TICK_PERIOD_MS=50

# Increase TX power for better Bluetooth stability
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# Bluetooth experimental stability and security
CONFIG_ZMK_BLE_EXPERIMENTAL_FEATURES=y

# Increase HID report queue sizes for smoother transmission
CONFIG_ZMK_BLE_KEYBOARD_REPORT_QUEUE_SIZE=32
CONFIG_ZMK_BLE_CONSUMER_REPORT_QUEUE_SIZE=12

# Increase Split communication queues for more reliable data between halves
CONFIG_ZMK_SPLIT_BLE_CENTRAL_POSITION_QUEUE_SIZE=32
CONFIG_ZMK_SPLIT_BLE_CENTRAL_SPLIT_RUN_QUEUE_SIZE=32
CONFIG_ZMK_SPLIT_BLE_PERIPHERAL_POSITION_QUEUE_SIZE=32

# Reduce display updates to prevent micro-stutters in the main thread
CONFIG_ZMK_DISPLAY_TICK_PERIOD_MS=5000

# Limit Bluetooth profiles
CONFIG_BT_MAX_CONN=5
CONFIG_BT_MAX_PAIRED=5

# Balanced debounce for speed AND stability
# 1ms is often too aggressive and leads to chatter; 3ms is the sweet spot.
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=3
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=5
